<app-title-nav
  [title]="'CONTRIVANCE_MAMAGEMENT.TITLE.LIST_CONTRIVANCE' | translate"
  backRoute="home/homepage"
  createRoute="this"
  (create)="handleCreate()"
>
</app-title-nav>

<div class="status">
  <div class="status-border">
    <div class="status-info">
      <div class="status-info-number">
        <div class="status-text1">
          {{ contrivanceDTO ? contrivanceDTO.totalNumber : 0 }}
        </div>
        <div class="status-text2">{{ "CONTRIVANCE_MAMAGEMENT.LABEL.TOTAL_NUMBER" | translate }}</div>
      </div>
      <div class="status-info-number">
        <div class="status-text1">
          {{ contrivanceDTO ? contrivanceDTO.approveNumber : 0 }}
        </div>
        <div class="status-text2">{{ "CONTRIVANCE_MAMAGEMENT.LABEL.APPROVE_NUMBER" | translate }}</div>
      </div>
      <div class="status-info-number">
        <div class="status-text1">
          {{ contrivanceDTO ? contrivanceDTO.declinedNumber : 0 }}
        </div>
        <div class="status-text2">{{ "CONTRIVANCE_MAMAGEMENT.LABEL.DECLINED_NUMBER" | translate }}</div>
      </div>
      <div class="status-info-number">
        <div class="status-text1">
          {{ contrivanceDTO ? contrivanceDTO.approveAwaitNumber : 0 }}
        </div>
        <div class="status-text2">{{ "CONTRIVANCE_MAMAGEMENT.LABEL.APPROVEAWAIT_NUMBER" | translate }}</div>
      </div>
      <div class="status-info-number" style="border-right: #ffffff">
        <div class="status-text1">
          {{ contrivanceDTO ? contrivanceDTO.createdNumber : 0 }}
        </div>
        <div class="status-text2">{{ "CONTRIVANCE_MAMAGEMENT.LABEL.CREATED_NUMBER" | translate }}</div>
      </div>
    </div>
  </div>
</div>
<label class="sort">
  <input
    class="sort-input"
    [placeholder]="
      'CONTRIVANCE_MAMAGEMENT.PLACEHOLDER.SORT_CONTRIVANCE' | translate
    "
    [(ngModel)]="searchAdvance"
    #advanceSearch 
    type="text"
  />
</label>
<div class="idea">
  <div
    class="idea-box"
    *ngIf="
      listContrivance && (listContrivance | async).length > 0;
      else noRecord
    "
  >
    <div
      class="idea-flexbox"
      *ngFor="let item of listContrivance | async; let i = index"
      (click)="viewDetail(item.contrivanceId);"
    >
      <div class="idea-line1 mb-1">
        <p class="idea-line1-text1">{{ item.contrivanceName }}</p>
        <p class="idea-line1-text2">{{ item.createDatetime.slice(0, 11) }}</p>
      </div>
      <div class="idea-line2 mb-1">
        <p class="idea-line2-text">
          {{ "CONTRIVANCE_MAMAGEMENT.LABEL.BASED_ON_IDEAS" | translate }}:
          {{ item.ideaName }}
        </p>
      </div>
      <div class="idea-line2 mb-1">
        <p class="idea-line2-text">
          {{ "CONTRIVANCE_MAMAGEMENT.LABEL.UNIT" | translate }}:
          {{ item.unitNames }}
        </p>
      </div>
      <div class="idea-line3">
        <p class="idea-line3-text1">
          {{ "CONTRIVANCE_MAMAGEMENT.LABEL.FIELD" | translate }}:
          {{ item.specialtyName }}
        </p>
        <div class="idea-line3-textbox">
          <span
            statusColor [statusColor]="item?.approveStatus"
              class="idea-line3-text2"
            >
              {{ item?.approveStatusName }}
            </span>
        </div>
      </div>
    </div>
  </div>
  <ng-template #noRecord>
    <span class="text-center">
      {{ "VALIDATION.NO_RECORD_VALID" | translate }}
    </span>
  </ng-template>
</div>
<app-nav-menu></app-nav-menu>
